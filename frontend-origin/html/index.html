<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>通讯录管理系统</title>
    <link href="/css/index.css" rel="stylesheet" />
    <script src="../javascript/index.js"></script>
    <script>
        // window.onload = function () {
        //     const login = document.cookie.includes("user");
        //     console.log(login);
        //     if (!login) {
        //         alert("请登录！");
        //         setTimeout(() => {
        //             window.location.href = "login.html";
        //         }, 1000);
        //     }
        //     contactList();
        //     user();
        // }
    </script>
</head>

<body>
    <!-- head -->
    <div class="div-row-flex right"
        style="background-color: darkolivegreen;;width: 100%; height: 20px; padding-left: 2rem;">
        <span>欢迎，<span id="username">邓长英</span></span>

        <label class="button button-label">
            <input type="file" style="display: none;" onchange="importFile(this)">导入
        </label>

        <label class="button button-label" onclick="exportFile(event)">
            导出
        </label>
        <label class="button button-label" onclick="exit(event)">
            退出
        </label>
    </div>
    <div class="div-row-flex"
        style="background-color: darkseagreen;;border-bottom: solid 2px rgb(202, 198, 198); margin-left: 2rem;">
        <h1 class="h1">通讯录管理系统</h1>
    </div>




    <div id="content-body" style="display: flex; height: 80%;">
        <!-- sidebar -->
        <div class="sidebar">
            <form class="search">
                <input id="search" class="radius full-height" type="text" name="search" placeholder="search"
                    style="width: 60%;" />
                <button class="radius full-height" onclick="handleSearch(event)" style="width: 20%;">搜索</button>
            </form>
            <button class="add-button" onclick="handleAddButton(event)">添加联系人</button>
            <button class="add-button" onclick="handleAddGroupButton(event)">添加分组</button>

            <div style="padding-top: 0.5rem">
                <!-- <div class="">
                    <span class="group">亲戚组</span>
                    <ul>
                        <li class="list-member">李春焕<span class="click-detail">详情</span></li>
                        <li class="list-member">庞书乙<span class="click-detail">详情</span></li>
                    </ul>
                </div>
                <div>
                    <span class="group">同事组</span>
                    <ul class="group-click">
                        <li class="list-member">姜艳华<span class="click-detail">详情</span></li>
                        <li class="list-member">杨金荣<span class="click-detail">详情</span></li>
                    </ul>
                </div> -->
                <ul class="lists">
                    <!-- <li class="list-member">刘 锋<span class="click-detail">详情</span></li>
                    <li class="list-member">曾兆先<span class="click-detail">详情</span></li>
                    <li class="list-member">董菊香<span class="click-detail">详情</span></li>
                    <li class="list-member">阮久峨<span class="click-detail">详情</span></li>
                    <li class="list-member">张文侠<span class="click-detail">详情</span></li>
                    <li class="list-member">李双莲<span class="click-detail">详情</span></li>
                    <li class="list-member">郭小丽<span class="click-detail">详情</span></li>
                    <li class="list-member">王彦梅<span class="click-detail">详情</span></li> -->

                    <!-- <li style=""><span>你即可</span><span>1111111111</span></li> -->

                </ul>
            </div>

        </div>

        <!-- detail -->
        <div id="contact-detail" style="display:none; padding-left: 2rem; width:100%;flex-basis: 60%;">
            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">手机号</div>
                <div id="phone" style="display: inline-block;">18312618979</div>
            </div>
            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">姓名</div>
                <div id="name" style="display: inline-block;">姜艳华</div>
            </div>
            <!-- <div style="padding-bottom: 10px;"> -->
            <div style="width: 8rem;display: none;">id</div>
            <div id="id" style="display: none;">1</div>
            <!-- </div> -->
            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">性别</div>
                <div id="gender" style="display: inline-block;">女</div>
            </div>
            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">地址</div>
                <div id="address" style="display: inline-block;">上海市浦东新区耀华路</div>
            </div>
            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">微信号</div>
                <div id="wechat" style="display: inline-block;">sunflower@213</div>
            </div>
            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">邮箱</div>
                <div id="email" style="display: inline-block;">sunflower213@163.com</div>
            </div>

            <div style="padding-bottom: 10px;">
                <div style="width: 8rem;display: inline-block;">群组</div>
                <div id="cgroup" style="display: inline-block;">同事组</div>
            </div>
            <div style="padding-bottom: 10px;">
                <button class="add-button" onclick="handleEditButton(event)">修改</button>
                <button class="add-button" onclick="handleDeleteButton(event)">删除</button>
            </div>
        </div>



        <!-- add -->
        <div id="add-form-p" style="flex-basis: 60%;display: none;">
            <div class="length" style="height: 100%; width: 100%; padding-left: 2rem;">
                <form id="add-form" onsubmit="handleSubmitButton(event);">
                    <h1>添加联系人</h1>
                    <table>
                        <tr>
                            <td class="table-cell-width-20"><label for="id"></label></td>
                            <td><input name="id" type="hidden"></td>
                        </tr>
                        <tr>
                            <td class="table-cell-width-20"><label for="phone">手机号：</label></td>
                            <td><input name="phone" type="text" placeholder="请输入手机号" class="" required />
                            </td>

                        </tr>

                        <tr>
                            <td><label>姓名/昵称：</label></td>
                            <td><input type="text" name="name" placeholder="请输入姓名" class="" /></td>
                        </tr>


                        <tr>
                            <td><label>性别：</label></td>
                            <td><span style="padding: 12px 12px; margin: 0.5rem;">男</span><input type="radio"
                                    name="gender" value="1" />
                                <span style="padding: 12px 12px; margin: 0.5rem;">女</span><input type="radio"
                                    name="gender" value="0" />
                            </td>
                        </tr>
                        <tr>
                            <td><label>地址：</label></td>
                            <td><input type="text" name="address" placeholder="请输入联系人地址" class="" />
                            </td>
                        </tr>
                        <tr>
                            <td><label>微信号：</label></td>
                            <td> <input type="text" name="wechat" placeholder="请输入微信号" class="" />
                            </td>
                        </tr>
                        <tr>
                            <td><label>邮箱：</label></td>
                            <td> <input type="email" name="email" placeholder="请输入邮箱" class="" />
                            </td>
                        </tr>


                        <tr>
                            <td><label>分组：</label></td>
                            <td> <select name="group">
                                    <!-- <option value="1">同事组</option>
                                    <option value="2">亲戚组</option>
                                    <option value="3">好友组</option> -->
                                </select> </td>
                        </tr>

                        <tr>
                            <td><button class="add-button" type="submit">提交</button>
                            </td>
                            <td> <button name="back" class="add-button"
                                    onclick="contactDetailAndFill(event)">返回</button> </td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <!-- add group -->
        <div id="add-group-form" style="flex-basis: 60%; display: none;">
            <div style="height: 100%; width: 100%; padding-left: 2rem;">
                <form onsubmit="addGroup(this);">
                    <h1>添加分组</h1>
                    <lable class="table-cell-width-20" style="display: inline-block;">组名称：</lable>
                    <input type="text" name="groupname" placeholder="请输入群名称">
                    <button class="add-button" type="submit">提交</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        const login = document.cookie.includes("user");
        console.log(login);
        if (!login) {
            setTimeout(() => {
                alert("请登录！");
                window.location.href = "login.html";
            }, 500);
        }
        contactList();
        user();
    </script>
</body>

</html>